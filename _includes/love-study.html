<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '357973641322221',
      cookie     : true,
      xfbml      : true,
      version    : 'v2.10'
    });
    FB.AppEvents.logPageView();
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));

   function checkLoginState() {
      // FB.getLoginStatus(function(response) {
      //   statusChangeCallback(response);
      // });
      FB.login(function(response) {
        // handle the response
        console.log(response)
      }, {scope: 'public_profile, email,user_likes,manage_pages, pages_manage_cta, pages_show_list, read_audience_network_insights, read_custom_friendlists, read_insights, read_page_mailboxes, user_about_me, user_actions.books, user_actions.fitness, user_actions.music, user_actions.news, user_actions.video, user_birthday, user_education_history, user_events, user_friends, user_games_activity, user_hometown, user_likes, user_location, user_managed_groups, user_posts, user_relationship_details, user_relationships, user_religion_politics, user_tagged_places, user_website, user_work_history',
          auth_type: 'rerequest'});
    };
</script>

<fb:login-button
  scope="public_profile,email"
  onlogin="checkLoginState();">
</fb:login-button>
